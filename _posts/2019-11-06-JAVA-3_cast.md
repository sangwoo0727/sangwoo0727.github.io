---
title: "[Java] 형 변환"
categories:
  - Java
read_time: false
tags:
  - Java
comments:
  - true
toc: true
toc_sticky: true
---

### 자료형의 변환이 의미하는 것은?
* 사람의 관점에서 1.0과 1은 동일한 값이지만, 자바의 관점에서 1.0과 1은 전혀 다른 값이다.
* 이 두개의 값을 표현하고 저장하는 방식이 완전히 다르기 때문.
* system.out.println(num1+num2); 의 문장에서 컴파일러는 num1과 num2가 같은 자료형일 것으로 기대한다.
* 자료형이 다른 두 값을 대상으로는 덧셈을 진행하지 못한다.
* 만약 num1과 num2의 자료형이 다르다면, 두 변수의 자료형을 일치시키는 과정이 필요.
* num1이 int형이고 num2가 long형이라면, int형 변수에 담긴 값을 long형으로 변환해야 데이터의 손실 없이 연산이 가능.
 1. num1에 저장된 값을 long형으로 변환하여 메모리에 임시 저장한다.
 2. 변환된 값과 num2에 저장된 값을 대상으로 덧셈을 진행한다.
* 이러한 과정을 __형변환__ 이라고 한다.

### 자동 형 변환(Implicit Conversion)
* 프로그래머가 명시한 형 변환이 아니고 필요한 상황에서 자동으로 형 변환이 일어나는 것.
* 아래 두 규칙에 근거하여 자동 형 변환이 일어난다.
  1. 자료형의 크기가 큰 방향으로 형 변환이 일어난다.
  2. 자료형의 크기에 상관없이 정수 자료형보다 실수 자료형이 우선.
* 아래 그림은 자동 형 변환이 이루어지는 방향을 나타낸다.

![](/assets/img/java/201911055.png)

* 정수형 데이터를 실수형으로 변환하면, 오차는 존재할 수 있지만 데이터의 손실은 발생하지 않는다.

### 명시적 형 변환(Explicit Conversion)
* 자동 형 변환이 이루어지지 않는 상황에서도 필요할 경우 __명시적 형 변환__ 을 통해서 형 변환이 이루어지도록 할 수 있다.
* doulbe pi = 3.1415;
* int num = (int)pi;
* 위의 식은 pi의 값을 int형으로 명시적 형 변환을 한 문장.
* 하나의 사례를 보겠다.

```java
short num1 = 1;
short num2 = 2;
short result = num1 + num2; //컴파일 오류 발생
/* 이유는 num1과 num2에 저장된 값이 덧셈을 위하여 int형으로 변환되어 메모리 공간에 임시 저장된다.
그리고 덧셈이 이뤄져 그 결과가 만들어진다.
그 결과는 int형이므로 대입의 과정에서 문제가 발생한다.(result가 short 형이기 때문) 
위의 코드가 컴파일이 되기 위해서는 명시적 형 변환이 필요! */

short result = (short)(num1+num2); //num1과 num2의 덧셈 결과를 short형으로 형변환 하는 과정
```

#### 출처 : 윤성우의 열혈 Java 프로그래밍, 오렌지 미디어
