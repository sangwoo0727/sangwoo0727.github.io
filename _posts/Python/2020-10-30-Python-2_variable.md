---
title: "[Python] 파이썬의 지역변수 전역변수"
categories:
  - Python
read_time: false
tags:
  - Python
toc: true
toc_sticky: true
---
## 개요
* 이번 포스팅에서는 파이썬에서의 지역 변수와 전역 변수에 대해 알아본다.
* 함수 안에 선언되는 변수를 지역변수라 한다.
* 함수 밖에 선언되는 변수를 전역변수라 한다.
* 이러한 지역변수, 전역변수를 파이썬에서는 어떻게 사용하는지 문법적인 측면을 알아보자.

## 지역변수
* 함수 안에 선언된 변수는 함수 안에서만 접근이 가능하다.
* 지역 변수는 함수 내에서 만들어졌다가, 함수를 벗어나면 사라지는 변수.

```python
def func():
    num = 3
    print(num)
    
func()
print(num) # 함수 밖에서 지역변수 num에 접근, 오류 발생
```

## 전역변수
* 함수 밖에서 선언되는 전역변수는 선언된 이후 어디서든 접근이 가능하다.

```python
num = 100

def func():
    print(num) # 100 출력

func()
```

* 이 부분만 보면 다른 언어와 다른 부분이 없다.
* 하지만 아래의 코드는 어떨까?

```python
num = 100

def func():
    num = 0
    print(num)

func() # 0 출력
print(num) # 100 출력
```

* func 함수를 호출한 부분은 0을 출력한다.
* 반면 함수 밖의 print(num)은 100을 출력한다.
* 함수내에서 사용한 num = 0 코드는 전역변수 num을 수정하지 않고, __지역변수 num을 선언하고 여기에 0을 대입한 결과로__ 이어진다.
* 즉 변수 하나를 더 만든 경우가 된다.

## global 키워드 사용하기
* 위의 코드처럼 전역변수와 동일한 이름의 지역변수가 만들어지면, 함수 내에서는 지역변수에만 접근하게 된다.
* 그리고 이 부분은 코드 작성에 있어서 헷갈리는 상황을 야기한다.
* 그래서 사용하는 키워드가 __global__ 이다.

```python
num = 100

def func():
    global num # 이 함수 내에서 접근하는 num은 전역변수라고 알려준다.
    num = 0 # 전역변수 num에 0 대입
    print(num)

func() # 0 출력
print(num) # 0 출력
```

* __가급적 함수 안에서 전역변수에 접근할 때는 global을 넣어주자.__
* 접근하는 변수가 어떤 변수인지 쉽게 파악할 수 있도록 하는 것은 코드 작성에 있어 중요하다.

## nonlocal 키워드 사용하기
* 전역변수가 아니라, 현재 함수 바깥쪽에 있는 지역변수를 사용하는 방법도 있다.
* global은 함수가 몇단계든 상관없이 무조건 전역 변수를 사용하게 된다.
* 반면, nonlocal 키워드는 현재 함수의 지역변수가 아닌 바깥쪽 함수의 지역변수를 사용한다.
* 바깥쪽에 있는 지역변수를 찾을 때 가장 가까운 함수부터 찾는다.
* 실무에서는 함수마다 이름이 같은 변수를 사용하기 보다는 변수 이름을 다르게 짓는 것이 좋다.

```python
num = 100

def func1():
    num = 50
    def func2():
        nonlocal num # func1의 num 지역변수를 사용하겠다는 뜻
        num = 10
        print(num) # 10
    func2()
    print(num) # 10

func1()
print(num) # 100
```

## 출처
* [docs.python.org](https://docs.python.org/3/reference/index.html)
* 열혈파이썬 - 윤성우

