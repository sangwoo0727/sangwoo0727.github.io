---
title: "[Python] 리스트 컴프리헨션(List Comprehension)"
categories:
  - Python
read_time: false
tags:
  - Python
toc: true
toc_sticky: true
---
* 이번 포스팅에서는 리스트 컴프리헨션이라는 방식을 통해 리스트를 생성하는 방법을 알아보겠다.

## 리스트 생성 방법
* 기존 리스트를 생성하는 방법들을 알아보자.

```python
l1 = [1,2,3] # 리스트를 생성하는 기본적인 방법

l2 = [] # 빈 리스트 생성 방법
```

* 이러한 방법을 통해, 조건이 들어간 리스트 역시 생성할 수 있다.

```python
l1 = [1,2,3,4,5]

# 리스트의 모든 값에 2를 더한 값을 저장하는 리스트를 만들어라.
l2 = []
for i in l1:
    l2.append(i+2)
```

* 이러한 방식의 코드를 리스트 컴프리헨션 방식으로 대체할 수 있다.
* 기존 방식과 리스트 컴프리헨션의 차이점은 컴프리헨션은 리스트 내부에 코드를 작성한다는 점이다.

## 리스트 컴프리헨션
* 리스트 컴프리헨션에서는 for문에서 반복되는 변수를 콜론 다음에 줄을 바꿔 들여쓰기 하는 것이 아니라, for문 앞에 작성한다.
* 코드를 통해 리스트 컴프리헨션의 기본구조를 알아보자.

```python
l1 = [1,2,3,4,5]
l2 = [x + 2 for x in l1] # 리스트 컴프리헨션의 기본 구조
```

* 위의 코드 ```l2 = [x+2 for x in l1]``` 는 l1의 값들을 하나씩 x에 넣어서, 그 x+2의 결과를 만들어 리스트에 저장하라는 뜻이 된다.

## 조건 필터 추가하기
* 위에서는 for문을 돌며 모든 원소에 대해 2를 더한 원소를 리스트 형태로 만드는 리스트 컴프리헨션을 사용하였다.
* 만약 리스트에 담을 값을 걸러내는 조건이 필요하다면 어떻게 해야할까?
* 일반적인 경우 먼저 살펴보자.

```python
l1 = [1,2,3,4,5]
l2 = []

for i in l1:
    if i%2: # i가 홀수인 경우에만
        l2.append(i+2)
```

* 이렇게 필터링을 하는 경우를 리스트 컴프리헨션으로 역시 작성할 수 있다.

```python
l1 = [1,2,3,4,5]
l2 = [x+2 for x in l1 if x % 2] # if 조건절이 추가된 리스트 컴프리헨션
```

