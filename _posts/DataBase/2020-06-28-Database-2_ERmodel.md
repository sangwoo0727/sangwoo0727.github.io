---
title: "[데이터베이스] 개체-관계 모델"
categories:
  - DataBase
tags:
  - MySQL
comments:
  - true
read_time: false
toc: true
toc_sticky: true
---
이전 포스팅에서 개체-관계 모델은 개념적 데이터 모델 중 가장 많이 사용되는 모델 중 하나라고 하였다.

데이터 모델은 데이터 모델링을 쉽게 해주는 도구이며, 데이터 모델링의 결과물을 표현하는 도구이다.

이번 포스팅에서는 데이터 모델 중 개념적 데이터 모델, 그 중에서도 가장 많이 사용되는 모델인 개체-관계 모델에 대해 다뤄보려한다.

## 개체-관계 모델
개체-관계 모델은 개체와 개체간의 관계를 이용해 현실 세계를 개념적 구조로 표현하는 방법이다.

현실 세계를 개체-관계 모델을 이용해 개념적으로 모델링하여 그림으로 표현한 것을 __E-R 다이어그램__ 이라고 한다.

개체-관계 모델을 이해하기 위해서 개체, 속성, 관계에 대해 살펴보자.

## 개체(Entity)
개체는 현실 세계에서 구별되는 모든 것을 의미한다. 즉, 저장할 만한 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물 등이며, 개념적 모델링에 있어서 가장 중요한 요소이다.

개체는 다른 개체와 구별되는 이름을 가지고 있고, 각 개체만의 고유한 특성이나 상태(속성)을 하나 이상 가지고 있다.

개체를 고유의 이름과 속성들로 정의한 것을 개체 타입이라고 한다.

![](/assets/img/DataBase/20200628_1.jpeg)

개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실제화된 개체를 개체 인스턴스라고 한다.

또한, 개체 타입에 대한 개체 인스턴스들을 모아놓은 것을 개체 집합이라고 한다.

데이터베이스에서 실제로 저장하고 관리하는 것이 개체 집합이다.

개체와 속성은 각각 파일 구조에서 레코드와 필드에 대응된다.

E-R 다이어그램에서는 개체를 사각형으로 표기하고 사각형 안에 개체의 이름을 표기한다.

## 속성(Attribute)
속성은 개체가 가지고 있는 고유한 특성이다. 속성은 일반적으로 의미 있는 데이터의 가장 작은 논리적 단위로 인식된다.

E-R 다이어그램에서 속성은 타원으로 표현하고, 타원 안에 속성의 이름을 표기한다.

![](/assets/img/DataBase/20200628_2.png)

속성은 특정 개체를 구성하는 속성의 값이 하나이면 __단일 값 속성__, 속성이 값을 여러 개 가질 수 있으면 __다중 값 속성__ 으로 분류한다.

아이디, 이름 등은 단일 값 속성이지만, 연락처의 경우 휴대폰 번호, 집 전화 등 여러 개를 가질 수 있으므로 다중 값 속성이 된다.

다중 값 속성은 E-R다이어그램에서 이중 타원으로 표현한다.

속성은 또한 의미를 더는 분해할 수 없으면 __단순 속성__ , 의미를 분해할 수 있어 값이 여러 개의 의미를 포함하는 __복합 속성__ 으로 분류할 수 있다.

주소 속성은 도,시,동 등으로 의미를 나눌 수 있으므로 복합속성이다.

![](/assets/img/DataBase/20200628_3.png)

위의 그림에서 생년월일은 복합 속성이고, 복합 속성은 E-R 다이어그램에서 저런 방법으로 표현한다.

속성 중에 또 알아둘 것이 유도 속성이 있다. 유도 속성은 값이 별도로 저장되는 것이 아니라 기존의 다른 속성 값에서 유도되어 결정되는 속성을 말한다.

예를 들어보자. 

어떤 제품의 가격과 할인율 속성으로 계산되는 판매 가격 속성은 유도 속성이다.

그리고 판매 가격 속성을 계산 하는 데 사용되는 가격과 할인율 같은 속성을 저장 속성이라고 한다.

실제로 값을 저장하고 있는 것은 저장 속성이고 유도 속성은 필요할 때마다 계산되므로 따로 저장할 필요가 없다.

유도 속성은 E-R 다이어그램에서 점선 타원으로 표현한다.

속성 중에는 널 속성도 있는데, 널 값은 아직 결정되지 않았거나 모르는 값을 의미한다. 널 값이 허용되는 속성을 널 속성이라고 한다.

마지막으로 __키 속성__ 이 있다. 

개체를 구성하는 속성들 중에서 키속성은 모든 개체 인스턴스들을 식별하는 데 사용된다. 어떠한 경우에는 키를 둘 이상의 속성들로 구성하기도 한다.(예를 들어, 이름 + 전화번호)

키 속성은 E-R 다이어그램에서 밑줄을 그어 표시한다.

## 관계
관계는 개체와 개체가 맺고 있는 의미 있는 연관성으로, 개체-관계 모델의 중요한 요소이다.

관계는 개체 집합들 사이의 대응 관계(매핑)을 의미한다.

관계를 통해서만 개체들 간의 연관성을 이용한 업무를 처리할 수 있다.

관계는 여러 개체(타입) 사이에서 정의되는 __관계 타입__ 과 실제 속성 값으로 구성되어 있는 특정 개체 인스턴스들 간에 맺어진 실제 관계인 __관계 인스턴스__ 로 구분하여 표현하기도 한다.

예를 들어, 고객 개체와 제품 개체 사이에 정의된 구매 관계는 관계 타입이 되고, 실제 속성 값으로 구성된 '강상우'와 '에어컨' 인스턴스 사이에 맺어진 관계는 관계 인스턴스가 되는 것.

관계는 E-R 다이어그램에서 마름모로 표현한다. 개체와 개체 사이의 관계를 마름모를 이용하여 표현한다. 관계가 가지고 있는 속성도 표현할 수 있다.

관계는 다양한 기준으로 분류할 수 있다.

먼저 관계에 참여하는 __개체 타입의 수__ 를 기준으로 이항 관계, 삼항 관계, 순환 관계 등으로 나눈다. 순환 관계는 개체 타입 하나가 자기 자신과 맺는 관계!

또한 관계 분류 기준 중 매핑 원소수(매핑 카디널리티)를 기준으로 관계를 분류하기도 한다. (매핑 카디널리티 : 관계를 맺는 두 개체 집합에서, 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수)

이를 통해, 일대일, 일대다, 다대다 세가지로 분류할 수 있다.

__일대일 관계는__ 한 개체의 인스턴스가 다른 개체의 하나의 인스턴스와 관계를 맺고, 반대로도 관계를 맺을 수 있다면 두 개체의 관계를 일대일 관계라고 한다.

__일대다 관계는__ A 개체의 인스턴스는 B 개체의 여러 인스턴스와 관계를 맺지만, B 개체의 인스턴스는 A개체의 인스턴스 하나와만 관계를 맺는다면, 두 개체의 관계는 일대다 관계라고 한다.

__다대다 관계는__ A 개체의 인스턴스가 B 개체의 여러 인스턴스과 관계를 맺을 수 있고, 반대의 경우도 관계를 맺을 수 있다면 두 개체는 다대다 관계라 한다.

