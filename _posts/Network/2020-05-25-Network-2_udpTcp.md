---
title: "[네트워크] TCP와 UDP"
categories:
  - Network
read_time: false
tags:
  - Network
comments:
  - true
toc: true
toc_sticky: true
---
이번 포스팅에서는 네트워크 계층들 중 전송 계층에서 사용하는 프로토콜에 대해 알아보려 한다.

전송계층은 송신자와 수신자를 연결하는 통신서비스를 제공하는 계층으로, 데이터의 전달을 담당한다.

이러한 데이터를 보내기 위해 사용하는 프로토콜(규약)이 TCP와 UDP이다.

## TCP(Transmission Control Protocol)
TCP를 해석하면 전송을 제어하는 프로토콜이며 정의는 __인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜__ 이다.

일반적으로 TCP는 IP와 함께 사용하는데, IP가 데이터의 배달을 처리한다면 TCP는 패킷을 추적 및 관리한다.

(cf. IP는 Internet Protocol의 약자로, 개개의 패킷을 상대방에게 전달하는 역할을 맡는다.)

즉, TCP는 IP가 처리할 수 있도록 데이터를 여러 개의 패킷으로 나누고 도착지에서는 완전한 데이터로 패킷들을 재조립한다.

흔히, TCP가 신뢰성이 있다는 말을 하는데, 신뢰성이 있다는 것은 패킷의 분실이나 중복, 순서가 바뀌는 등의 문제를 해결해 주는 것을 말한다.

패킷 전송을 보장하기 위해서 TCP는 ACK(패킷을 받았다고 응답하는 것)를 사용하여 패킷을 보냈지만, 상대편에서 분실이 되어 데이터가 완벽하지 않을 때 수신지에서 ACK를 보내줄 때까지 다시 데이터를 보낸다.

## TCP의 특징
첫번째로, TCP는 연결형 서비스로 가상 회선 방식을 제공한다. 가상 회선 방식을 제공한다는 것은 발신지와 수신지를 연결하여 패킷을 전송하기 위한 논리적 경로를 배정한다는 것이다.

두번째로는, 3-way handshaking 과정을 통해 연결을 설정하고, 4-way handshaking을 통해 해제한다. 3-way handshaking 과정은 목적지와 수신지를 확실히 하여 정확한 전송을 보장하기 위해서 세션을 수립하는 과정을 의미한다. TCP는 연결형 서비스로 신뢰성을 보장하기 때문에, 3-handshaking을 사용하는 것이고, 데이터의 흐름제어나 혼잡 제어와 같은 기능도 한다.

세번째로, 2번과 같은 이유때문에 TCP는 UDP보다 속도가 느리다. 

마지막으로 TCP는 높은 신뢰성을 보장한다.

즉, TCP는 연속성보다는 신뢰성있는 전송이 중요할 때에 사용하는 프로토콜이다.

## UDP(User Datagram Protocol)
UDP는 사용자 데이터그램 프로토콜이라는 뜻으로, 데이터를 데이터그램 단위로 처리하는 프로토콜을 말한다. 데이터그램은 독립적인 관계를 지니는 패킷이라는 뜻이다.

TCP와 달리 UDP는 비연결형 프로토콜로, 연결을 위해 할당되는 논리적인 경로가 없고, 그 때문에 각각의 패킷은 다른 경로로 전송되고 패킷은 독립적인 관계를 지니게 되는데 이렇게 서로 다른 경로로 독립적으로 처리하게 되는 프로토콜을 UDP라고 한다.

## UDP의 특징
첫번째로 UDP는 비연결형 서비스로 데이터그램 방식을 제공한다. 비연결형 서비스이기 때문에, 연결을 설정하고 해제하는 과정이 존재하지 않는다. 

두번째로, UDP는 정보를 주고 받을 때 정보를 보내거나 받는다는 신호절차를 거치지 않는다.

세번째로, UDP헤더의 CheckSum 필드를 통해 최소한의 오류만 검출한다.

네번째로, UDP는 신뢰성이 낮다.

마지막으로 UDP는 TCP보다 속도가 빠르다.

UDP는 서로 다른 경로로 독립적으로 처리하며, 패킷에 순서를 부여하여 재조립을 하거나 흐름 제어 또는 혼잡 제어와 같은 기능도 하지 않기때문에 TCP보다 속도가 빠르다. 하지만, 신뢰성이 있는 데이터를 전송하지 못한다는 단점이 있다.

그렇기 때문에, 신뢰성보다는 연속성이 중요한 실시간 서비스 등에 적합한 프로토콜이다.

(cf. 흐름제어는 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 것이다. 혼잡 제어는 네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지하는 것이다.)


